import{q as d,a as x,t as h,O as l,w as g}from"./chunk-OIYGIGL5-BjQr_l_M.js";import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{u as f}from"./auth-provider-Diczkjh1.js";import{p as b,r as p}from"./redirect-D7e2wz-9.js";const j={loginPath:"/login",defaultRedirect:"/rancho",publicPaths:["/login","/register","/auth/reset-password","/health","/favicon.ico","/favicon.svg",a=>a.startsWith("/assets")],emailRegex:/^[a-zA-Z0-9._%+-]+@fab\.mil\.br$/,storageKeys:{rememberEmail:"fab_remember_email",redirect:"auth:redirectTo"},brand:{title:"SISUB",subtitle:"Gerencie a demanda do rancho",logoUrl:""},ui:{loginTitle:"Entrar",loginSubtitle:"Acesso restrito a emails @fab.mil.br",loginButton:"Entrar",forgotPassword:"Esqueceu a senha?",rememberEmail:"Lembrar email",invalidEmailMsg:"Por favor, utilize um email institucional (@fab.mil.br).",weakPasswordMsg:"A senha deve ter pelo menos 6 caracteres.",sendingMsg:"Enviando...",registerTitle:"Criar Conta",registerSubtitle:"Acesso restrito a emails @fab.mil.br",createAccountBtn:"Criar Conta",resetTitle:"Definir nova senha",resetSubtitle:"Crie sua nova senha para acessar o sistema",updatingPasswordBtn:"Atualizar senha",checkingAuth:"Verificando autenticação...",recoveringEmailSent:"Email de recuperação enviado! Verifique sua caixa de entrada.",genericAuthError:"Ocorreu um erro durante a autenticação. Tente mais tarde."}};function y(a){const s=j;return{...s,...a,storageKeys:{...s.storageKeys,...a?.storageKeys},brand:{...s.brand,...a?.brand},ui:{...s.ui,...a?.ui},publicPaths:a?.publicPaths??s.publicPaths}}function w({variant:a="full",config:s,LoaderIcon:i}){const t=y(s),{user:n,isLoading:o}=f(),r=d();x.useEffect(()=>{b(r.search,t.storageKeys.redirect)},[r.search,t.storageKeys.redirect]);const{target:c,stored:m}=p(r.search,r.state,t.defaultRedirect,t.storageKeys.redirect),u=r.pathname.startsWith("/auth/reset-password");return o&&a==="full"?e.jsxs("div",{className:"h-full w-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md text-center",children:[t.brand.logoUrl?e.jsx("img",{src:t.brand.logoUrl,alt:t.brand.title,className:"mx-auto h-16"}):e.jsx("h1",{className:"text-7xl md:text-8xl text-blue-600 font-black",children:t.brand.title}),t.brand.subtitle&&e.jsx("p",{className:"text-gray-600",children:t.brand.subtitle})]}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"w-full flex items-center justify-center py-12 bg-white rounded-md shadow-sm",children:[i?e.jsx(i,{className:"h-6 w-6 animate-spin text-gray-500"}):null,e.jsx("span",{className:"ml-2 text-sm text-gray-600",children:t.ui.checkingAuth})]})})]}):n&&!u?(m&&sessionStorage.removeItem(t.storageKeys.redirect),e.jsx(h,{to:c,replace:!0})):a==="strip"?e.jsx(l,{}):e.jsxs("div",{className:"h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:[e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[t.brand.logoUrl?e.jsx("img",{src:t.brand.logoUrl,alt:t.brand.title,className:"mx-auto h-16"}):e.jsx("h1",{className:"text-7xl md:text-8xl font-black text-blue-600",children:t.brand.title}),t.brand.subtitle&&e.jsx("p",{className:"text-gray-600",children:t.brand.subtitle})]})}),e.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e.jsx(l,{})})]})}const P=g(function(){return e.jsx("div",{className:"flex-1 h-full flex items-center align-middle content-center",children:e.jsx(w,{variant:"strip"})})});export{P as default};
