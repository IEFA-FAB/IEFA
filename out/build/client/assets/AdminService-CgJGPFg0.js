import{u as l}from"./useQuery-DJjewD8N.js";import{s as i}from"./supabase-BHBWl_Zr.js";const a={admin:{profile:e=>["admin","profile",e??null]}};function s(e){return e==="admin"||e==="superadmin"||e==="user"?e:null}async function o(e){const{data:r,error:n}=await i.from("profiles_admin").select("role, om").eq("id",e).maybeSingle();if(n)throw new Error(n.message||"Erro ao buscar perfil admin");return r?{role:s(r.role),om:r.om??null}:null}function t(e,r){return l({queryKey:a.admin.profile(e),queryFn:()=>e?o(e):Promise.resolve(null),enabled:!!e,staleTime:600*1e3,gcTime:1800*1e3,refetchOnWindowFocus:!1,...r})}function f(e,r){return t(e,{select:n=>n?.role??null,...r})}async function m(e){if(!e)return null;try{return(await o(e))?.role??null}catch(r){return console.error("Erro ao verificar o n√≠vel de admin:",r),null}}export{m as c,f as u};
