function c(){try{if(typeof window<"u"&&typeof window.sessionStorage<"u")return window.sessionStorage}catch{}return null}function u(e,t,r){const n=new URLSearchParams(e||"").get("redirectTo"),a=t?.from,o=a&&typeof a=="object"?`${a.pathname??""}${a.search??""}`:t?.from?.pathname||null,d=c()?.getItem(r)??null;return{qsTarget:n,stateTarget:o,stored:d}}function f(e,t){const s=new URLSearchParams(e||"").get("redirectTo"),n=t?.from?.pathname;return s??n??null}function m(e,t="/"){if(!e)return t;let r=e;try{r=decodeURIComponent(e)}catch{}return r.startsWith("/")&&!r.startsWith("//")?r:t}function g(e,t){const s=new URLSearchParams(e||"").get("redirectTo");s&&c()?.setItem(t,s)}function p(e,t,r,s){const{qsTarget:n,stateTarget:a,stored:o}=u(e,t,s);return{target:m(n??o??a,r),stored:o}}export{f as g,g as p,p as r,m as s};
